#************************************************************************
#   Package	: mesh
#   $Version:$
#   Copyright 2018 <company name>.  All rights reserved.
#
#   Synopsis	: included automatically by $(XMTBUILD)/proto/Makefile.top
#   Purpose	: Customize make environment for the current package.
#************************************************************************



PKG_NM		= Xhist
ARCH		= linux_x86
BUILD_TGT	= exe
CFLAGS.c	+= -I$(XMT)/xmt_xhist/libxhist/src -g -DXHIST -ftest-coverage -fprofile-arcs
LIBS.c		= $(XMT)/xmt_xhist/libxhist/tgt/$(ARCH)/libXhist.a 
LDFLAGS.c	+= -lgcov --coverage
CFLAGS.java	+= -cp .:$(OBJDIR):$(XMTXHIST)/libxhist/tgt/$(ARCH)/Xhist.jar

java:	
	$(MAKE) LANGUAGE=java JAVA_PKGROOT=. EXTRA_OBJS='Mesh$$$$1.class' PKG_NM=Mesh EXE_NM=Mesh	exe

c:	
	$(MAKE) LANGUAGE=c PKG_NM=Xhist EXE_NM=mesh LIBS=$(LIBS.c) 	exe


gcov:
	gcov	--object-directory $(OBJDIR) 		\
		--demangled-names 			\
		--branch-probabilities			\
		--function-summaries			\
		--human-readable			\
		--use-colors				\
